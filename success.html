<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pembayaran Berhasil - Alief Coffee Shop</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  
  <style>
    html {
      scroll-behavior: smooth;
    }

    .gradient-animate {
      background: linear-gradient(180deg, #2F1B14 0%, #3D2914 50%, #4A2C17 100%);
      background-image: url('./images/background-coffee.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-blend-mode: multiply;
      background-attachment: fixed;
    }

    .success-animation {
      animation: successPulse 2s ease-in-out infinite;
    }

    @keyframes successPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .floating {
      position: absolute;
      width: 120px;
      height: 120px;
      background: rgba(210, 180, 140, 0.3);
      border-radius: 50%;
      filter: blur(50px);
      animation: float 10s infinite ease-in-out;
    }

    .floating:nth-child(2) {
      left: 70%;
      top: 30%;
      animation-delay: 3s;
      background: rgba(160, 82, 45, 0.3);
    }

    .floating:nth-child(3) {
      left: 20%;
      bottom: 20%;
      animation-delay: 6s;
      background: rgba(139, 69, 19, 0.3);
    }

    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-40px); }
      100% { transform: translateY(0); }
    }

    .glass {
      background: rgba(47, 27, 20, 0.95);
      border: 2px solid #D2691E;
      border-radius: 16px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background: #D2691E;
      animation: confetti-fall 3s linear infinite;
    }

    .confetti:nth-child(odd) {
      background: #B8860B;
      animation-delay: 0.5s;
    }

    .confetti:nth-child(3n) {
      background: #A0522D;
      animation-delay: 1s;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }
  </style>
</head>

<body class="bg-[#2F1B14] font-sans text-gray-200 gradient-animate min-h-screen overflow-hidden">
  <!-- Floating Background Shapes -->
  <div class="floating" style="left: 10%; top: 10%"></div>
  <div class="floating"></div>
  <div class="floating"></div>

  <!-- Confetti Animation -->
  <div id="confetti-container" class="fixed inset-0 pointer-events-none z-0">
    <!-- Confetti will be generated by JavaScript -->
  </div>

  <!-- Header -->
  <header class="relative z-10 py-6">
    <div class="max-w-6xl mx-auto px-6 flex items-center justify-center">
      <a href="index.html" class="flex items-center space-x-3 hover:scale-105 transition">
        <img src="./images/logo-coffee.png" alt="Alief Coffee Shop" class="w-12 h-12">
        <span class="text-xl font-bold text-[#D2691E]">Alief Coffee Shop</span>
      </a>
    </div>
  </header>

  <!-- Main Content -->
  <main class="relative z-10 flex items-center justify-center min-h-[80vh]">
    <div class="max-w-2xl mx-auto px-6 text-center">
      
      <!-- Success Icon -->
      <div class="mb-8" data-aos="zoom-in">
        <div class="success-animation inline-flex items-center justify-center w-32 h-32 bg-green-500 rounded-full mb-6">
          <svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
      </div>

      <!-- Success Message -->
      <div class="glass p-8 mb-8" data-aos="fade-up" data-aos-delay="200">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
          Pembayaran Berhasil! üéâ
        </h1>
        <p class="text-xl text-gray-300 mb-6">
          Terima kasih atas pesanan Anda. Kopi Anda sedang disiapkan dengan penuh cinta.
        </p>

        <!-- Order Details -->
        <div id="orderDetails" class="bg-[#2F1B14] border-2 border-[#D2691E] rounded-lg p-6 mb-6">
          <!-- Will be filled by JavaScript -->
        </div>

        <!-- Estimated Time -->
        <div class="bg-[#2F1B14] border-2 border-[#D2691E] rounded-lg p-4 mb-6">
          <h3 class="font-semibold text-[#D2691E] mb-2">‚è∞ Estimasi Waktu</h3>
          <p class="text-white">Pesanan Anda akan siap dalam <span class="font-bold text-[#D2691E]">15-20 menit</span></p>
        </div>

        <!-- Order Number -->
        <div class="bg-[#2F1B14] border-2 border-[#D2691E] rounded-lg p-4 mb-6">
          <h3 class="font-semibold text-white mb-2">üìã Nomor Pesanan</h3>
          <p class="text-2xl font-mono font-bold text-[#D2691E]" id="orderNumber">#AC001</p>
          <p class="text-sm text-gray-400 mt-1">Simpan nomor ini untuk pengambilan pesanan</p>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="space-y-4" data-aos="fade-up" data-aos-delay="400">
        <button onclick="trackOrder()" class="w-full bg-[#D2691E] hover:bg-[#B8860B] text-white font-semibold py-4 px-8 rounded-lg transition transform hover:scale-105">
          üìç Lacak Pesanan via WhatsApp
        </button>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <button onclick="orderAgain()" class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-6 rounded-lg transition">
            üîÑ Pesan Lagi
          </button>
          <a href="index.html" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg transition inline-block">
            üè† Kembali ke Beranda
          </a>
        </div>
      </div>

      <!-- Additional Info -->
      <div class="mt-8 text-center" data-aos="fade-up" data-aos-delay="600">
        <p class="text-gray-400 text-sm mb-2">
          Butuh bantuan? Hubungi kami di WhatsApp
        </p>
        <a href="https://wa.me/62895638924070" class="text-[#D2691E] hover:text-[#B8860B] transition">
          +62 895-6389-24070
        </a>
      </div>
    </div>
  </main>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script>
    AOS.init({ duration: 1000, once: true });

    // Generate random order number
    function generateOrderNumber() {
      const prefix = 'AC';
      const number = Math.floor(Math.random() * 9000) + 1000;
      return `${prefix}${number}`;
    }

    // Get order data
    function getOrderData() {
      const urlParams = new URLSearchParams(window.location.search);
      const itemName = urlParams.get('item') || localStorage.getItem('orderItem') || 'Cappucino';
      const itemPrice = urlParams.get('price') || localStorage.getItem('orderPrice') || '25000';
      const itemImage = urlParams.get('image') || localStorage.getItem('orderImage') || './images/cappucino.jpg';
      
      return {
        name: itemName,
        price: parseInt(itemPrice),
        image: itemImage,
        quantity: 1,
        orderNumber: generateOrderNumber()
      };
    }

    // Display order details
    function displayOrderDetails() {
      const order = getOrderData();
      
      document.getElementById('orderNumber').textContent = `#${order.orderNumber}`;
      
      document.getElementById('orderDetails').innerHTML = `
        <div class="flex items-center justify-between p-4 bg-[#2F1B14] border border-[#D2691E] rounded-lg">
          <div class="flex items-center space-x-4">
            <img src="${order.image}" alt="${order.name}" class="w-16 h-16 rounded-lg object-cover">
            <div class="text-left">
              <h3 class="font-semibold text-white">${order.name}</h3>
              <p class="text-sm text-gray-400">Quantity: ${order.quantity}</p>
            </div>
          </div>
          <div class="text-right">
            <p class="font-bold text-[#D2691E] text-lg">Rp ${order.price.toLocaleString('id-ID')}</p>
            <p class="text-xs text-green-400">‚úì Paid</p>
          </div>
        </div>
      `;

      // Store order number for tracking
      localStorage.setItem('currentOrderNumber', order.orderNumber);
    }

    // Track order via WhatsApp
    function trackOrder() {
      const order = getOrderData();
      const message = `Halo! Saya ingin melacak pesanan saya:\n\nüìã Nomor Pesanan: #${order.orderNumber}\nüçµ Item: ${order.name}\nüí∞ Total: Rp ${order.price.toLocaleString('id-ID')}\n\nBisakah diinformasikan status pesanan saya? Terima kasih!`;
      const whatsappUrl = `https://wa.me/62895638924070?text=${encodeURIComponent(message)}`;
      window.open(whatsappUrl, '_blank');
    }

    // Order again
    function orderAgain() {
      window.location.href = 'index.html#menu';
    }

    // Create confetti animation
    function createConfetti() {
      const container = document.getElementById('confetti-container');
      
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.animationDelay = Math.random() * 3 + 's';
        confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
        container.appendChild(confetti);
      }

      // Remove confetti after animation
      setTimeout(() => {
        container.innerHTML = '';
      }, 6000);
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      displayOrderDetails();
      createConfetti();
      
      // Clear localStorage after successful order
      setTimeout(() => {
        localStorage.removeItem('orderItem');
        localStorage.removeItem('orderPrice');
        localStorage.removeItem('orderImage');
      }, 1000);
    });

    // Auto redirect to home after 2 minutes (optional)
    // setTimeout(() => {
    //   if (confirm('Terima kasih! Ingin kembali ke beranda?')) {
    //     window.location.href = 'index.html';
    //   }
    // }, 120000);
  </script>
</body>
</html>